{% load static %}   

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Criar Produto HTML  </h2>
    <form method="POST" enctype="multipart/form-data" id="product-form">  
        {% csrf_token %}

        <p>
            {{form.images.label_tag}}
            {{ form.images }}

            {% if form.images.errors %}

                 <span style="color: red;">{{ form.images.errors.0 }}</span>
             {% endif %}

        </p>
        
        <p>
            {{ form.name.label_tag }} <br>
            {{ form.name}}

            {% if form.name.errors %}

                <span style="color: red;">{{ form.name.errors.0 }}</span>
            {% endif %}
        </p>

        <p>
            {{ form.category.label_tag }}<br>
            {{ form.category }}

            {% if form.category.errors %}

            <span style="color: red;">{{ form.category.errors.0 }}</span>
        {% endif %}

            
            <a  href="{% url 'create_category' %}?next={{ request.path }}" onclick="saveFormData()">Cadastrar nova categoria</a>
        </p>

        <p>
            {{ form.subcategory.label_tag }} <br>
            {{ form.subcategory }}
            <a id="new-subcategory-link"
            href="{% url 'create_subcategory' %}?next={{ request.path }}&category_id={{ form.category.value }}" 
            data-base="{% url 'create_subcategory' %}"
            data-next="{{ request.path }}"
            onclick="saveFormData()">
           + Nova Subcategoria</a>       
         </p>

        <p>
            {{ form.price.label_tag }}<br>
            {{ form.price }}

            {% if form.price.errors %}
                <span style="color: red;">{{ form.price.errors.0 }} </span>
            {% endif %}
        </p>

        <p>
            {{ form.quantity.label_tag }}<br>
            {{ form.quantity }}

            {% if form.quantity.errors %}
                <span style="color: red;"> {{ form.quantity.errors.0 }} </span>
            {% endif %}
        </p>

        <p>
            {{ form.description.label_tag }}<br>
            {{ form.description }}


            {% if form.description.errors %}
                <span style="color: red;"> {{ form.description.errors.0 }} </span>
            {% endif %}
        </p>

        <p>
            {{ form.avaible.label_tag }}<br>
            {{ form.avaible }}
        </p>

        <button type="submit">Salvar</button>
    </form>

    <script src="{% static 'inventory/js/create_product.js' %}"></script>
</body>
</html>